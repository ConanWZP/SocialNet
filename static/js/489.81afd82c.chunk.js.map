{"version":3,"file":"static/js/489.81afd82c.chunk.js","mappings":"sTAkBO,SAASA,EAAWC,GAC1B,OAAO,SAACC,GACP,IAAMC,EAAQ,CAACC,QAAQC,EAAAA,EAAAA,OACjBC,GAAWC,EAAAA,EAAAA,MACjB,OAAO,SAACN,GAAD,kBAAcC,GAAd,IAAqBC,MAAOA,EAAOG,SAAUA,MAErD,IAGKE,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAkCJ,OAlCIA,EAAAA,EAAAA,GAAAA,EAAAA,CAAAA,CAAAA,IAAAA,oBAAAA,MAIL,WAEC,IAAIC,EAASC,KAAKR,MAAMC,MAAMC,OAAOK,OAGrC,GAFAE,QAAQC,IAAIH,IAEPA,KACJA,EAASC,KAAKR,MAAMW,kBAGnB,OAAO,SAAC,KAAD,CAAUC,GAAI,WAKvBJ,KAAKR,MAAMa,eAAeN,GAC1BC,KAAKR,MAAMc,cAAcP,KAQzB,oBAGD,WACC,OACC,SAAC,KAAD,UAAaC,KAAKR,YAEnB,EAlCIM,CAAyBS,EAAAA,WAmD/B,WAAeC,EAAAA,EAAAA,KACdC,EAAAA,EAAAA,KAbqB,SAACC,GAAD,MAAY,CACjCC,QAASD,EAAME,YAAYD,QAC3BE,OAAQH,EAAME,YAAYC,OAC1BV,iBAAkBO,EAAMI,KAAKf,UAUJ,CAACM,eAAAA,EAAAA,GAAgBC,cAAAA,EAAAA,GAAeS,iBAAAA,EAAAA,KACzDzB,EAFD,CAKCQ,I,iJC/EGkB,EAA6B,SAACN,GAC9B,MAAO,CACHO,OAAQP,EAAMI,KAAKG,SAIdC,EAAmB,SAACC,GAAe,IACtCC,EADqC,0IAEvC,WACI,OAAKpB,KAAKR,MAAMyB,QAGT,SAACE,GAAD,UAAenB,KAAKR,SAFhB,SAAC,KAAD,CAAUY,GAAI,eAJU,GACXG,EAAAA,WAShC,OADqCE,EAAAA,EAAAA,IAAQO,EAARP,CAAoCW","sources":["components/Profile/ProfileContainer.jsx","hoc/withAuthRedirect.js"],"sourcesContent":["import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Profile from \"./Profile\";\r\nimport axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUserProfile, getUserStatus, setUserProfile, updateUserStatus} from \"../../redux/profile-reducer\";\r\n\r\n\r\n\r\nimport {Navigate, useNavigate, useParams} from \"react-router-dom\";\r\n\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\n\r\n\r\nexport function withRouter(Children) {\r\n\treturn (props) => {\r\n\t\tconst match = {params: useParams()};\r\n\t\tconst navigate = useNavigate();\r\n\t\treturn <Children {...props} match={match} navigate={navigate}/>\r\n\t}\r\n}\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\t/*let postsDataFromApp = props.postsDataToProfile;*/\r\n\r\n\r\n\tcomponentDidMount() {\r\n\r\n\t\tlet userId = this.props.match.params.userId;\r\n\t\tconsole.log(userId)\r\n\r\n\t\tif (!userId) {\r\n\t\t\tuserId = this.props.authorizedUserId;\r\n\t\t\tif (!userId) {\r\n\t\t\t\t/*this.props.navigate('#/login')*/\r\n\t\t\t\treturn <Navigate to={'/login'} />\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tthis.props.getUserProfile(userId);\r\n\t\tthis.props.getUserStatus(userId);\r\n\r\n\t\t/*usersAPI.getProfileAPI(userId)\r\n\t\t\t.then(data => {\r\n\r\n\t\t\t\tthis.props.setUserProfile(data);\r\n\r\n\t\t\t});*/\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Profile {...this.props} />\r\n\t\t);\r\n\t}\r\n\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n\tprofile: state.profilePage.profile,\r\n\tstatus: state.profilePage.status,\r\n\tauthorizedUserId: state.auth.userId,\r\n})\r\n\r\n\r\n/*let WithUrlDataContainerComponent = withRouter(ProfileContainer);*/\r\n\r\n\r\n/*export default connect(mapStateToProps, {getUserProfile})(WithUrlDataContainerComponent);*/\r\n\r\nexport default compose(\r\n\tconnect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n\twithRouter\r\n\r\n)\r\n(ProfileContainer)","import React from \"react\";\r\nimport {Navigate} from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Navigate to={'/login'} />\r\n            }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent;\r\n}"],"names":["withRouter","Children","props","match","params","useParams","navigate","useNavigate","ProfileContainer","userId","this","console","log","authorizedUserId","to","getUserProfile","getUserStatus","React","compose","connect","state","profile","profilePage","status","auth","updateUserStatus","mapStateToPropsForRedirect","isAuth","withAuthRedirect","Component","RedirectComponent"],"sourceRoot":""}